import _0x573b0b from'express';import{createServer}from'http';import _0xf0139d from'path';import{Socket}from'socket.io';import{toBuffer}from'qrcode';import _0x3ef739 from'node-fetch';function connect(_0x2842aa,_0x10d19b){const _0x4d86ef=global['app']=_0x573b0b();console['log'](_0x4d86ef);const _0x4a891c=global['server']=createServer(_0x4d86ef);let _0x28f158='The\x20QR\x20code\x20is\x20invalid,\x20possibly\x20the\x20QR\x20code\x20has\x20already\x20been\x20scanned.';_0x2842aa['ev']['on']('connection.update',function _0x9af715({qr:_0x33db0d}){if(_0x33db0d)_0x28f158=_0x33db0d;}),_0x4d86ef['use'](async(_0x51e550,_0x5e8df2)=>{_0x5e8df2['setHeader']('content-type','image/png'),_0x5e8df2['end'](await toBuffer(_0x28f158));}),_0x4a891c['listen'](_0x10d19b,()=>{console['log']('✔️\x20The\x20application\x20is\x20listening\x20to\x20the\x20port.',_0x10d19b,'(ignore\x20if\x20I\x20already\x20scan\x20the\x20QR\x20code)');if(opts['keepalive'])keepAlive();});}function pipeEmit(_0x72afef,_0x2a9d59,_0x40a4cd=''){const _0x2660b3=_0x72afef['emit'];return _0x72afef['emit']=function(_0x4bdd4f,..._0x3fba4c){_0x2660b3['emit'](_0x4bdd4f,..._0x3fba4c),_0x2a9d59['emit'](_0x40a4cd+_0x4bdd4f,..._0x3fba4c);},{'unpipeEmit'(){_0x72afef['emit']=_0x2660b3;}};}function keepAlive(){const _0x354cf3='https://'+process['env']['REPL_SLUG']+'.'+process['env']['REPL_OWNER']+'.repl.co';if(/(\/\/|\.)undefined\./['test'](_0x354cf3))return;setInterval(()=>{_0x3ef739(_0x354cf3)['catch'](console['error']);},0x5*0x3e8*0x3c);}export default connect;