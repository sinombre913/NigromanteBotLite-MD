import _0x13c397 from'node-fetch';import{FormData,Blob}from'formdata-node';import{fileTypeFromBuffer}from'file-type';const fileIO=async _0x186d38=>{const {ext:_0x42fb13,mime:_0x41e313}=await fileTypeFromBuffer(_0x186d38)||{},_0x33f923=new FormData(),_0x395d3b=new Blob([_0x186d38['toArrayBuffer']()],{'type':_0x41e313});_0x33f923['append']('file',_0x395d3b,'tmp.'+_0x42fb13);const _0x3a6ad6=await _0x13c397('https://file.io/?expires=1d',{'method':'POST','body':_0x33f923}),_0x517f21=await _0x3a6ad6['json']();if(!_0x517f21['success'])throw _0x517f21;return _0x517f21['link'];},RESTfulAPI=async _0x92e619=>{const _0x507959=new FormData();let _0x3fb9e9=_0x92e619;if(!Array['isArray'](_0x92e619))_0x3fb9e9=[_0x92e619];for(const _0x2ae0d0 of _0x3fb9e9){const _0x73e25b=new Blob([_0x2ae0d0['toArrayBuffer']()]);_0x507959['append']('file',_0x73e25b);}const _0x32d55e=await _0x13c397('https://storage.restfulapi.my.id/upload',{'method':'POST','body':_0x507959});let _0xf254ab=await _0x32d55e['text']();try{_0xf254ab=JSON['parse'](_0xf254ab);if(!Array['isArray'](_0x92e619))return _0xf254ab['files'][0x0]['url'];return _0xf254ab['files']['map'](_0x8b86a4=>_0x8b86a4['url']);}catch(_0x15fcaa){throw _0xf254ab;}};export default async function (inp){let err=![];for(const upload of[RESTfulAPI,fileIO]){try{return await upload(inp);}catch(e){err=e;}}if(err)throw err;}