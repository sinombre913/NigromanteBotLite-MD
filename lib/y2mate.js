import _0xa4ca28 from'node-fetch';import{JSDOM}from'jsdom';function post(_0x28b6a4,_0x2842f4){return _0xa4ca28(_0x28b6a4,{'method':'POST','headers':{'accept':'*/*','accept-language':'en-US,en;q=0.9','content-type':'application/x-www-form-urlencoded;\x20charset=UTF-8'},'body':new URLSearchParams(Object['entries'](_0x2842f4))});}const ytIdRegex=/(?:http(?:s|):\/\/|)(?:(?:www\.|)youtube(?:\-nocookie|)\.com\/(?:shorts\/)?(?:watch\?.*(?:|\&)v=|embed\/|v\/)|youtu\.be\/)([-_0-9A-Za-z]{11})/;async function yt(_0x231502,_0x3ead76,_0x4f143a,_0xcb6c66,_0x4c88bb='en68'){if(!ytIdRegex['test'](_0x231502))throw'Invalid\x20URL';const _0x1a5d84=ytIdRegex['exec'](_0x231502);_0x231502='https://youtu.be/'+_0x1a5d84[0x1];const _0x54c8cd=await post('https://www.y2mate.com/mates/'+_0x4c88bb+'/analyze/ajax',{'url':_0x231502,'q_auto':0x0,'ajax':0x1}),_0xc0609b=await _0x54c8cd['json'](),{document:_0x146d3f}=new JSDOM(_0xc0609b['result'])['window'],_0x507576=_0x146d3f['querySelectorAll']('table'),_0x27c2a0=_0x507576[{'mp4':0x0,'mp3':0x1}[_0x4f143a]||0x0];let _0x5436be;switch(_0x4f143a){case'mp4':_0x5436be=Object['fromEntries']([..._0x27c2a0['querySelectorAll']('td\x20>\x20a[href=\x22#\x22]')]['filter'](_0xeaa938=>!/\.3gp/['test'](_0xeaa938['innerHTML']))['map'](_0x228d1a=>[_0x228d1a['innerHTML']['match'](/.*?(?=\()/)[0x0]['trim'](),_0x228d1a['parentElement']['nextSibling']['nextSibling']['innerHTML']]));break;case'mp3':_0x5436be={'128kbps':_0x27c2a0['querySelector']('td\x20>\x20a[href=\x22#\x22]')['parentElement']['nextSibling']['nextSibling']['innerHTML']};break;default:_0x5436be={};}const _0x39d668=_0x5436be[_0x3ead76],_0x2f99ca=/var k__id = "(.*?)"/['exec'](_0x146d3f['body']['innerHTML'])||['',''],_0x530b50=_0x146d3f['querySelector']('img')['src'],_0x1220f6=_0x146d3f['querySelector']('b')['innerHTML'],_0x40fe74=await post('https://www.y2mate.com/mates/'+_0x4c88bb+'/convert',{'type':'youtube','_id':_0x2f99ca[0x1],'v_id':_0x1a5d84[0x1],'ajax':'1','token':'','ftype':_0x4f143a,'fquality':_0xcb6c66}),_0x4be6c0=await _0x40fe74['json'](),_0x424e8a=parseFloat(_0x39d668)*(0x3e8*/MB$/['test'](_0x39d668));return{'dl_link':/<a.+?href="(.+?)"/['exec'](_0x4be6c0['result'])[0x1],'thumb':_0x530b50,'title':_0x1220f6,'filesizeF':_0x39d668,'filesize':_0x424e8a};}export default{'yt':yt,'ytIdRegex':ytIdRegex,'yta'(_0x11970b,_0x55b9ee='en68'){return yt(_0x11970b,'128kbps','mp3','128',_0x55b9ee);},'ytv'(_0x16a8d3,_0x5290a7='en68'){return yt(_0x16a8d3,'360p','mp4','360',_0x5290a7);},'servers':['id4','en60','en61','en68']};