const {downloadContentFromMessage}=await import('@whiskeysockets/baileys');export async function before(_0x41d15a,{isAdmin:_0x577f9b,isBotAdmin:_0x327564}){const _0x30696a=db['data']['chats'][_0x41d15a['chat']];if(/^[.~#/\$,](read)?viewonce/['test'](_0x41d15a['text']))return;if(!_0x30696a['antiviewonce']||_0x30696a['isBanned'])return;if(_0x41d15a['mtype']=='viewOnceMessageV2'){const _0x1f42d1=_0x41d15a['message']['viewOnceMessageV2']['message'],_0xa1a92a=Object['keys'](_0x1f42d1)[0x0],_0x4c909c=await downloadContentFromMessage(_0x1f42d1[_0xa1a92a],_0xa1a92a=='imageMessage'?'image':'video');let _0x1e3957=Buffer['from']([]);for await(const _0x487515 of _0x4c909c){_0x1e3957=Buffer['concat']([_0x1e3957,_0x487515]);}if(/video/['test'](_0xa1a92a))return this['sendFile'](_0x41d15a['chat'],_0x1e3957,'error.mp4',_0x1f42d1[_0xa1a92a]['caption']+'\x0a\x0a*ᴀǫᴜÍ\x20ɴᴏ\x20sᴇ\x20ᴘᴇʀᴍɪᴛᴇ\x20ᴏᴄᴜʟᴛᴀʀ\x20ɴᴀᴅᴀ☘️*',_0x41d15a);else{if(/image/['test'](_0xa1a92a))return this['sendFile'](_0x41d15a['chat'],_0x1e3957,'error.jpg',_0x1f42d1[_0xa1a92a]['caption']+'\x0a\x0a*ᴀǫᴜÍ\x20ɴᴏ\x20sᴇ\x20ᴘᴇʀᴍɪᴛᴇ\x20ᴏᴄᴜʟᴛᴀʀ\x20ɴᴀᴅᴀ☘️*',_0x41d15a);}}}